# 网站空白页面问题解决方案

## 问题描述
网站本地运行正常，但通过网络访问时出现空白页面。

## 已修复的问题

### 1. ✅ Next.js 配置问题（已修复）
**问题**: `next.config.js` 中图片域名限制为 `localhost`
```javascript
// 原问题配置
images: {
  domains: ['localhost'], // ❌ 导致生产环境图片无法加载
}

// 修复后配置
images: {
  domains: [], // ✅ 允许所有域名
}
```

**修复内容**:
- 移除了 `localhost` 域名限制
- 暂时保留 console.log 用于调试
- 添加了 `trailingSlash: true` 配置

## 排查清单

### 2. 🔍 环境变量检查
如果您的网站使用了环境变量，请确保生产环境中已正确设置：

1. **检查 .env 文件**（如果存在）：
   ```bash
   # 检查是否有 .env.production 或 .env.local
   ls -la | grep .env
   ```

2. **在部署平台设置环境变量**：
   - Vercel: 在项目设置 → Environment Variables
   - Netlify: 在网站设置 → Environment variables
   - 其他平台: 查看对应文档

### 3. 🔍 部署平台配置检查

#### Vercel 部署
如果使用 Vercel，创建 `vercel.json`：
```json
{
  "version": 2,
  "builds": [
    {
      "src": "package.json",
      "use": "@vercel/next"
    }
  ],
  "routes": [
    {
      "src": "/(.*)",
      "dest": "/$1"
    }
  ]
}
```

#### Netlify 部署
如果使用 Netlify，创建 `netlify.toml`：
```toml
[build]
  command = "npm run build"
  publish = ".next"

[[redirects]]
  from = "/*"
  to = "/404.html"
  status = 404
```

### 4. 🔍 浏览器控制台检查
1. 打开浏览器开发者工具（F12）
2. 查看 Console 标签页是否有错误信息
3. 查看 Network 标签页是否有资源加载失败

### 5. 🔍 HTML 源码检查
1. 在空白页面右键 → 查看页面源代码
2. 检查是否有基本的 HTML 结构
3. 如果完全空白，说明服务器配置有问题

## 立即解决步骤

### 步骤 1: 重新部署
```bash
# 1. 重新构建
npm run build

# 2. 如果使用 Vercel
vercel --prod

# 3. 如果使用 Netlify
# 手动重新部署或推送到 Git
```

### 步骤 2: 清除缓存
1. **浏览器缓存**: Ctrl+F5 强制刷新
2. **CDN 缓存**: 如果使用 CDN，在控制面板清除缓存
3. **部署平台缓存**: 在平台控制面板清除缓存

### 步骤 3: 检查部署日志
1. 查看部署平台的构建日志
2. 确认构建过程中没有错误
3. 检查是否有资源路径错误

## 常见原因排查

### 原因 1: 静态资源路径错误
**症状**: 页面加载但样式丢失，或部分资源404
**解决**: 检查 `next.config.js` 中的 `assetPrefix` 配置

### 原因 2: 国际化配置问题
**症状**: 特定语言版本无法访问
**解决**: 检查 `next-i18next.config.js` 和语言文件

### 原因 3: 服务器配置问题
**症状**: 完全无法访问
**解决**: 检查服务器的 Node.js 版本和端口配置

### 原因 4: 域名DNS问题
**症状**: 域名无法解析
**解决**: 检查域名DNS设置和SSL证书

## 应急解决方案

如果问题持续存在，可以尝试：

1. **回滚到上一个工作版本**
2. **使用静态导出**：
   ```javascript
   // next.config.js
   module.exports = {
     output: 'export',
     trailingSlash: true,
     images: {
       unoptimized: true
     }
   }
   ```

## 联系支持

如果以上步骤都无法解决问题，请提供：
1. 部署平台名称
2. 错误日志截图
3. 浏览器控制台错误信息
4. 网站URL（如果可以分享）

## 验证修复

修复后请验证：
1. ✅ 主页正常加载
2. ✅ 所有语言版本都能访问
3. ✅ 图片和样式正常显示
4. ✅ 交互功能正常工作 